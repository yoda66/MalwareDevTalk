<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Target Name="Sample"><Sample /></Target>
  <UsingTask
    TaskName="Sample"
    TaskFactory="CodeTaskFactory"
    AssemblyFile="C:\Windows\Microsoft.Net\Framework\v4.0.30319\Microsoft.Build.Tasks.v4.0.dll" >
  <Task><Code Type="Class" Language="cs"><![CDATA[

// Your C# code!
public class Sample : Microsoft.Build.Utilities.Task, Microsoft.Build.Framework.ITask {
    public override bool Execute()
    {
        // This method is the entrypoint.
        return True;
    }
}

      ]]></Code>
    </Task>
  </UsingTask>
</Project>

